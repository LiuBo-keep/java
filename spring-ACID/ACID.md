### @Transactional 声明事务

1.作用域：

类上，

方法上

如果；类上合方法上同时存在了此注解，首先是判断的是方法上的

2.属性

2.1:事务的传播行为：propagation(一个事务方法被另一个事务方法调用时，当前的事务如何使用事务)

属性值(共7种，常用2种如下)：

REQUIRED(默认值)
使用调用者的事务 

REQUIRES_NEW
将调用者的事务挂起，重新开始事务

2.2:事务隔离级别：isolation

属性值(共5种)

DEFAULT(默认)

1.READ_COMMITTED(读未提交)
A,B两个事务：数据库中数值为50，当A事务将50改为30，但是还没有提交，这时事务B
读取了30，如果当这时候事务A突然回滚事务，这时数据库中的数值又变成了50，此时事务
B就是脏读。

2.READ_UNCOMMITTED(读已提交，常用的)
A,B两个事务：数据库中数值为50，当A事务将50改为30，但是还没有提交，这时事务B
就会读取50。这就避免的脏读，但是当事务刚读取50，事务A就将值改为了30，这时事务B马上
再去读这时读到的是30，这就出现了不可重复读(主要描述的是修改操作)。

4.REPEATABLE_READ(可重复读，默认使用)
A,B两个事务：数据库中还没有值，当A事务去添加新值时，但是还没有提交，这时事务B
去读，由于事务A还没有提交，所以事务B就读取不到任何数据，并返回，这时事务
A将新值添加成功并提交，事务B再次去读，发现突然有了新值，这时候就出现了幻读(主要描述的是插入操作)。

8.SERIALIZABLE(串行化)

2.3:事务的回滚与不回滚(默认Spring会对所有的运行时异常进行事务回滚)

属性值：

1.rollbackFor

2.rollbackForClassName

3.noRollbackFor

4.noRollbackForClassName

注意：1，2都是可以指定当出现什么异常时进行回滚，3,4则是相反指定当遇到什么异常时不进行回滚
但是1是通过一个class类型指定的，2是通过字符串指定的，3是通过一个class类型指定的，4是通过字符串指定的

2.4:事务的只读设置 readOnly

属性值：

1.true

表示只读，只能对数据库进行读操作，其他操作都不行

2.false(默认)

表示非只读，对数据库所有操作都可以

2.5 事务的超时设置(设置事务在强制回滚之前可以占用的时间，以秒为单位) timeout

指一个事务可以操作的可用时间。如果超过可用时间会强制回滚，释放连接



